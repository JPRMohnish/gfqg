{"ast":null,"code":"var _jsxFileName = \"/home/sai/Desktop/open-source/gfqg/gfqg/src/components/keyword.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Input from \"@mui/material/Input\";\nimport { useState } from \"react\";\nimport { Button } from \"@mui/material\";\nimport { Select, MenuItem } from \"@mui/material\";\nimport { Grid } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ariaLabel = {\n  \"aria-label\": \"description\"\n};\nexport default function Inputs(props) {\n  _s();\n\n  const {\n    history\n  } = props;\n  const times = [];\n  const days = [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\", \"sunday\"];\n\n  function shuffle(array) {\n    let currentIndex = array.length,\n        randomIndex; // While there remain elements to shuffle...\n\n    while (currentIndex != 0) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex--; // And swap it with the current element.\n\n      [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];\n    }\n\n    return array;\n  }\n\n  for (let i = 0; i <= 21; i++) {\n    let x = i.toString();\n    if (x.length < 2) x = \"0\" + x;\n    x += \":00\";\n    times.push(x);\n  }\n\n  const [keyword, setKeyword] = useState(\"\");\n  const [approx, setApprox] = useState(10);\n  const [loading, setLoading] = useState(false);\n  const [questions, setQuestions] = useState({});\n  const [email, setEmail] = useState(\"abc@gmail.com\");\n  const [day, setDay] = useState(\"monday\");\n  const [time, setTime] = useState(\"00:00\");\n\n  const findOptions = async word => {\n    return new Promise(async (resolve, reject) => {\n      fetch(`https://api.datamuse.com/words?ml=${word}`).then(res => res.json()).then(async data => {\n        resolve([data[0].word, data[1].word, data[2].word]);\n      }).catch(err => {\n        console.log(err);\n      });\n    });\n  };\n\n  const fetchQuestion = () => {\n    setLoading(true);\n    fetch(`http://localhost:5000/generate_from_keyword?query=${keyword}&max_questions=${approx}`).then(res => res.json()).then(async data => {\n      let questions = {};\n      data = await Promise.all(data.map(async (d, index) => {\n        questions[index] = {\n          question: d.pop(),\n          answers: d[0],\n          selected: \"null\",\n          options: shuffle([await findOptions(d[0]), d[0]])\n        };\n        return d;\n      }));\n      setQuestions(questions);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n    });\n  };\n\n  const submitAnswers = async () => {\n    let response = {\n      question_data: [],\n      revision_plan: {\n        day: day,\n        time: time\n      },\n      email: email\n    };\n    await Promise.all(Object.keys(questions).map(quest => {\n      let question = questions[quest];\n\n      if (JSON.stringify(question.answers) !== JSON.stringify(question.selected)) {\n        response.question_data.push({\n          question: question.question,\n          correct_answer: question.answers.toString(),\n          wrong_answer: question.selected.toString()\n        });\n      }\n\n      return question;\n    }));\n    console.log(response);\n    fetch(\"http://localhost:5000/revisionEmail\", {\n      method: \"POST\",\n      body: JSON.stringify(response),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    }).then(res => {\n      history.push(\"/thanks\");\n    }).catch(err => alert(\"Some Error Occured Try Again\" + err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [Object.keys(questions).length < 1 && /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      sx: {\n        \"& > :not(style)\": {\n          m: 1\n        },\n        justifyContent: \"center\",\n        alignContent: \"center\",\n        width: \"100%\"\n      },\n      noValidate: true,\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        defaultValue: keyword,\n        onChange: e => setKeyword(e.target.value),\n        placeholder: 'Place keyword to Search example Delhi the capita\"Hello world\" l of India',\n        inputProps: ariaLabel,\n        sx: {\n          width: \"50%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => setApprox(e.target.value),\n        type: \"number\",\n        placeholder: \"Approx questions to generate\",\n        inputProps: ariaLabel,\n        sx: {\n          marginLeft: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: fetchQuestion,\n        disabled: loading,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this), Object.keys(questions).length > 0 && /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Answer these questions and submit the answers with your email and time scheduled for revision.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        sm: 8,\n        lg: 8,\n        md: 8,\n        sx: {\n          height: \"90vh\",\n          width: \"100%\",\n          overflowY: \"scroll\"\n        },\n        children: Object.keys(questions).map(index => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Q.\", 1 + parseInt(index), \". \", questions[index].question]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"1. \", questions[index].options[0]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"2. \", questions[index].options[1]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"3. \", questions[index].options[2]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"4. \", questions[index].options[3]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 59\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => {\n                let qna = questions;\n                qna[index].selected = e.target.value.toLowerCase();\n              },\n              placeholder: \"Enter Your answer.\",\n              inputProps: ariaLabel,\n              sx: {\n                marginLeft: 10,\n                width: \"80%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        xs: 12,\n        sm: 12,\n        lg: 12,\n        md: 12,\n        item: true,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 2,\n          sm: 2,\n          lg: 2,\n          md: 2,\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            onChange: e => setEmail(e.target.value),\n            type: \"email\",\n            placeholder: \"johndoe@example.com\",\n            inputProps: ariaLabel,\n            sx: {\n              marginLeft: 10\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 1,\n          sm: 1,\n          lg: 1,\n          md: 1,\n          container: true,\n          justifyContent: \"flex-end\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label2\",\n            id: \"demo-simple-select2\",\n            value: day,\n            label: \"day\",\n            onChange: e => setDay(e.target.value),\n            children: days.map(d => {\n              return /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: d,\n                selected: d === day,\n                children: [\" \", d, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 1,\n          sm: 1,\n          lg: 1,\n          md: 1,\n          container: true,\n          justifyContent: \"flex-start\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: time,\n            label: \"time\",\n            onChange: e => setTime(e.target.value),\n            children: times.map(t => {\n              return /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: t,\n                selected: t === time,\n                children: [\" \", t, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 1,\n          sm: 1,\n          lg: 1,\n          md: 1,\n          container: true,\n          justifyContent: \"flex-start\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: submitAnswers,\n            children: \"Submit Answers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Inputs, \"48q0ljOFQ95N9Yf9dUmSCWM76hw=\");\n\n_c = Inputs;\n\nvar _c;\n\n$RefreshReg$(_c, \"Inputs\");","map":{"version":3,"sources":["/home/sai/Desktop/open-source/gfqg/gfqg/src/components/keyword.js"],"names":["React","Box","Input","useState","Button","Select","MenuItem","Grid","ariaLabel","Inputs","props","history","times","days","shuffle","array","currentIndex","length","randomIndex","Math","floor","random","i","x","toString","push","keyword","setKeyword","approx","setApprox","loading","setLoading","questions","setQuestions","email","setEmail","day","setDay","time","setTime","findOptions","word","Promise","resolve","reject","fetch","then","res","json","data","catch","err","console","log","fetchQuestion","all","map","d","index","question","pop","answers","selected","options","submitAnswers","response","question_data","revision_plan","Object","keys","quest","JSON","stringify","correct_answer","wrong_answer","method","body","headers","alert","m","justifyContent","alignContent","width","e","target","value","marginLeft","height","overflowY","parseInt","qna","toLowerCase","t"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Input from \"@mui/material/Input\";\nimport { useState } from \"react\";\nimport { Button } from \"@mui/material\";\nimport { Select, MenuItem } from \"@mui/material\";\nimport { Grid } from \"@mui/material\";\nconst ariaLabel = { \"aria-label\": \"description\" };\nexport default function Inputs(props) {\n  const { history } = props;\n  const times = [];\n  const days = [\n    \"monday\",\n    \"tuesday\",\n    \"wednesday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\",\n    \"sunday\",\n  ];\n  function shuffle(array) {\n    let currentIndex = array.length,\n      randomIndex;\n\n    // While there remain elements to shuffle...\n    while (currentIndex != 0) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex--;\n\n      // And swap it with the current element.\n      [array[currentIndex], array[randomIndex]] = [\n        array[randomIndex],\n        array[currentIndex],\n      ];\n    }\n\n    return array;\n  }\n  for (let i = 0; i <= 21; i++) {\n    let x = i.toString();\n    if (x.length < 2) x = \"0\" + x;\n    x += \":00\";\n    times.push(x);\n  }\n\n  const [keyword, setKeyword] = useState(\"\");\n  const [approx, setApprox] = useState(10);\n  const [loading, setLoading] = useState(false);\n  const [questions, setQuestions] = useState({});\n  const [email, setEmail] = useState(\"abc@gmail.com\");\n  const [day, setDay] = useState(\"monday\");\n  const [time, setTime] = useState(\"00:00\");\n  const findOptions = async (word) => {\n    return new Promise(async (resolve, reject) => {\n      fetch(`https://api.datamuse.com/words?ml=${word}`)\n        .then((res) => res.json())\n        .then(async (data) => {\n          resolve([data[0].word, data[1].word, data[2].word]);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    });\n  };\n  const fetchQuestion = () => {\n    setLoading(true);\n    fetch(\n      `http://localhost:5000/generate_from_keyword?query=${keyword}&max_questions=${approx}`\n    )\n      .then((res) => res.json())\n      .then(async (data) => {\n        let questions = {};\n        data = await Promise.all(\n          data.map(async (d, index) => {\n            questions[index] = {\n              question: d.pop(),\n              answers: d[0],\n              selected: \"null\",\n              options: shuffle([await findOptions(d[0]), d[0]]),\n            };\n            return d;\n          })\n        );\n        setQuestions(questions);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n      });\n  };\n\n  const submitAnswers = async () => {\n    let response = {\n      question_data: [],\n      revision_plan: {\n        day: day,\n        time: time,\n      },\n      email: email,\n    };\n    await Promise.all(\n      Object.keys(questions).map((quest) => {\n        let question = questions[quest];\n        if (\n          JSON.stringify(question.answers) !== JSON.stringify(question.selected)\n        ) {\n          response.question_data.push({\n            question: question.question,\n            correct_answer: question.answers.toString(),\n            wrong_answer: question.selected.toString(),\n          });\n        }\n        return question;\n      })\n    );\n    console.log(response);\n    fetch(\"http://localhost:5000/revisionEmail\", {\n      method: \"POST\",\n      body: JSON.stringify(response),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((res) => {\n        history.push(\"/thanks\");\n      })\n      .catch((err) => alert(\"Some Error Occured Try Again\" + err));\n  };\n  return (\n    <>\n      {Object.keys(questions).length < 1 && (\n        <Box\n          component=\"form\"\n          sx={{\n            \"& > :not(style)\": { m: 1 },\n            justifyContent: \"center\",\n            alignContent: \"center\",\n            width: \"100%\",\n          }}\n          noValidate\n          autoComplete=\"off\"\n        >\n          <Input\n            defaultValue={keyword}\n            onChange={(e) => setKeyword(e.target.value)}\n            placeholder={\n              'Place keyword to Search example Delhi the capita\"Hello world\" l of India'\n            }\n            inputProps={ariaLabel}\n            sx={{ width: \"50%\" }}\n          />\n          <Input\n            onChange={(e) => setApprox(e.target.value)}\n            type={\"number\"}\n            placeholder={\"Approx questions to generate\"}\n            inputProps={ariaLabel}\n            sx={{ marginLeft: 10 }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={fetchQuestion}\n            disabled={loading}\n          >\n            Submit\n          </Button>\n        </Box>\n      )}\n      {Object.keys(questions).length > 0 && (\n        <Grid container alignItems=\"center\" justifyContent=\"center\">\n          <h1>\n            Answer these questions and submit the answers with your email and\n            time scheduled for revision.\n          </h1>\n          <Grid\n            item\n            xs={8}\n            sm={8}\n            lg={8}\n            md={8}\n            sx={{ height: \"90vh\", width: \"100%\", overflowY: \"scroll\" }}\n          >\n            {Object.keys(questions).map((index) => {\n              return (\n                <>\n                  <p>\n                    Q.{1 + parseInt(index)}. {questions[index].question}\n                  </p>\n                  <br />\n                  <p>1. {questions[index].options[0]}</p>{\" \"}\n                  <p>2. {questions[index].options[1]}</p>{\" \"}\n                  <p>3. {questions[index].options[2]}</p>{\" \"}\n                  <p>4. {questions[index].options[3]}</p> <br />\n                  <Input\n                    onChange={(e) => {\n                      let qna = questions;\n                      qna[index].selected = e.target.value.toLowerCase();\n                    }}\n                    placeholder={\"Enter Your answer.\"}\n                    inputProps={ariaLabel}\n                    sx={{ marginLeft: 10, width: \"80%\" }}\n                  />\n                  <br />\n                </>\n              );\n            })}\n          </Grid>\n          <Grid\n            container\n            xs={12}\n            sm={12}\n            lg={12}\n            md={12}\n            item\n            justifyContent=\"center\"\n            alignItems=\"center\"\n          >\n            <Grid item xs={2} sm={2} lg={2} md={2}>\n              <Input\n                onChange={(e) => setEmail(e.target.value)}\n                type={\"email\"}\n                placeholder={\"johndoe@example.com\"}\n                inputProps={ariaLabel}\n                sx={{ marginLeft: 10 }}\n              />\n            </Grid>\n            <Grid\n              item\n              xs={1}\n              sm={1}\n              lg={1}\n              md={1}\n              container\n              justifyContent=\"flex-end\"\n            >\n              <Select\n                labelId=\"demo-simple-select-label2\"\n                id=\"demo-simple-select2\"\n                value={day}\n                label={\"day\"}\n                onChange={(e) => setDay(e.target.value)}\n              >\n                {days.map((d) => {\n                  return (\n                    <MenuItem value={d} selected={d === day}>\n                      {\" \"}\n                      {d}{\" \"}\n                    </MenuItem>\n                  );\n                })}\n              </Select>\n            </Grid>\n            <Grid\n              item\n              xs={1}\n              sm={1}\n              lg={1}\n              md={1}\n              container\n              justifyContent=\"flex-start\"\n            >\n              <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={time}\n                label={\"time\"}\n                onChange={(e) => setTime(e.target.value)}\n              >\n                {times.map((t) => {\n                  return (\n                    <MenuItem value={t} selected={t === time}>\n                      {\" \"}\n                      {t}{\" \"}\n                    </MenuItem>\n                  );\n                })}\n              </Select>\n            </Grid>\n            <Grid\n              item\n              xs={1}\n              sm={1}\n              lg={1}\n              md={1}\n              container\n              justifyContent=\"flex-start\"\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={submitAnswers}\n              >\n                Submit Answers\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}